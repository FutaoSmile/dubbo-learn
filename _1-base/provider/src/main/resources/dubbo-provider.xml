<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:dubbo="http://dubbo.apache.org/schema/dubbo"
       xmlns="http://www.springframework.org/schema/beans" xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

    <!--参考手册：https://dubbo.apache.org/zh/docs3-v2/java-sdk/reference-manual/config/properties/ -->

    <context:component-scan base-package="com.futao.base.provider"/>

    <context:property-placeholder/>

    <!--dubbo服务的名字，不要和别的服务同名-->
    <dubbo:application name="base-provider"/>
    <!--指定注册中心的地址-->
    <dubbo:registry address="zookeeper://${zookeeper.address:127.0.0.1}:2181" timeout="2000"/>
    <!--通信规则，协议，端口-->
    <dubbo:protocol name="dubbo" port="20088"/>
    <!--监控中心，从注册中心自动发现-->
    <dubbo:monitor protocol="registry"/>

    <!--<dubbo:provider token="true"/>-->

    <!--暴露的服务-->
    <dubbo:service interface="com.futao.base.api.service.UserAddressService" ref="userAddressService" version="1.0.0"/>
    <!--演示本地存根-->
    <dubbo:service interface="com.futao.base.api.service.LocalStubService" ref="localStubService"/>

    <!--分组-->
    <dubbo:service interface="com.futao.base.api.service.GroupService" ref="groupService" group="gb"/>

    <!--校验-->
    <dubbo:service interface="com.futao.base.api.service.ValidService" ref="validService"/>

    <!--隐式传参-->
    <dubbo:service interface="com.futao.base.api.service.AttachmentService" ref="attachmentService"/>

    <!--消费者的统一配置-->
    <dubbo:provider timeout="1000"/>
</beans>
